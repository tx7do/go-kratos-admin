// Code generated by protoc-gen-ts_proto. DO NOT EDIT.
// versions:
//   protoc-gen-ts_proto  v2.8.3
//   protoc               unknown
// source: authentication/service/v1/authentication.proto

/* eslint-disable */
import type { Empty } from "../../../google/protobuf/empty.pb";
import type { User_Authority } from "../../../user/service/v1/user.pb";

/** 授权类型 */
export enum GrantType {
  /** password - 密码模式（Resource Owner Password Credentials Grant） */
  password = "password",
  /** client_credentials - 客户端模式（Client Credentials Grant） */
  client_credentials = "client_credentials",
  /** authorization_code - 授权码模式（Authorization Code Grant） */
  authorization_code = "authorization_code",
  /** refresh_token - 刷新令牌 (Refresh Token) */
  refresh_token = "refresh_token",
  /** implicit - 简化模式 (Implicit Grant) */
  implicit = "implicit",
}

/** 令牌类型 */
export enum TokenType {
  /** bearer - Bearer */
  bearer = "bearer",
  /** mac - MAC */
  mac = "mac",
}

/** 客户端类型 */
export enum ClientType {
  /** admin - 管理端 */
  admin = "admin",
  /** app - APP */
  app = "app",
}

/** 用户后台登录 - 请求 */
export interface LoginRequest {
  /** 授权类型，此处的值固定为"password"，必选项。 */
  grant_type: GrantType;
  client_id?: string | null | undefined;
  client_secret?:
    | string
    | null
    | undefined;
  /** 以空格分隔的范围列表。如果未提供，scope则授权任何范围，默认为空列表。 */
  scope?:
    | string
    | null
    | undefined;
  /** 跳转链接 */
  redirect_uri?:
    | string
    | null
    | undefined;
  /** 用户名，必选项。 */
  username?:
    | string
    | null
    | undefined;
  /** 用户的密码，必选项。 */
  password?:
    | string
    | null
    | undefined;
  /** 用户ID */
  user_id?:
    | number
    | null
    | undefined;
  /** 更新令牌，用来获取下一次的访问令牌，必选项。 */
  refresh_token?:
    | string
    | null
    | undefined;
  /** 授权请求中收到的一次性验证/认证码。(当使用授权码模式时) */
  code?:
    | string
    | null
    | undefined;
  /** 客户端类型 */
  client_type?: ClientType | null | undefined;
}

/** 用户后台登录 - 回应 */
export interface LoginResponse {
  /** 访问令牌，必选项。 */
  access_token: string;
  /** 更新令牌，用来获取下一次的访问令牌，可选项。 */
  refresh_token: string;
  /** 令牌类型，该值大小写不敏感，必选项，可以是bearer类型或mac类型。 */
  token_type: TokenType;
  /** 令牌有效时间，单位为秒。如果访问令牌过期，服务器应回复授予访问令牌的持续时间。如果省略该参数，必须其他方式设置过期时间。 */
  expires_in?:
    | string
    | null
    | undefined;
  /** 以空格分隔的用户授予范围列表。如果未提供，scope则授权任何范围，默认为空列表。 */
  scope?: string | null | undefined;
}

/** 用户登出 - 请求 */
export interface LogoutRequest {
  /** 用户ID */
  userId: number;
  /** 客户端类型 */
  clientType: ClientType;
}

/** 验证令牌 - 请求 */
export interface ValidateTokenRequest {
  /** 令牌 */
  token: string;
  /** 客户端类型 */
  clientType: ClientType;
}

/** 验证令牌 - 回应 */
export interface ValidateTokenResponse {
  /** 令牌是否有效 */
  isValid: boolean;
  /** 用户令牌载体 */
  claim?: UserTokenPayload | null | undefined;
}

export interface RegisterUserRequest {
  /** 用户名 */
  username: string;
  /** 登入密码 */
  password: string;
  /** 租户代码 */
  tenantCode: string;
  /** 电子邮件地址 */
  email?: string | null | undefined;
}

export interface RegisterUserResponse {
  userId: number;
}

/** 用户令牌载体 */
export interface UserTokenPayload {
  /** 用户ID */
  uid: number;
  /** 租户ID */
  tid?:
    | number
    | null
    | undefined;
  /** 用户名 */
  sub?:
    | string
    | null
    | undefined;
  /** 客户端ID */
  cid?:
    | string
    | null
    | undefined;
  /** 用户权限 */
  aut: User_Authority;
  /** 用户角色码列表 */
  roc: string[];
  /** 设备ID */
  did?: string | null | undefined;
}

/** 获取当前用户身份信息 - 响应 */
export interface WhoAmIResponse {
  /** 用户ID */
  uid: number;
  /** 当前用户的用户名 */
  username: string;
  /** 用户权限 */
  authority: User_Authority;
}

/** 用户登录认证服务 */
export interface AuthenticationService {
  /** 用户登录 */
  Login(request: LoginRequest): Promise<LoginResponse>;
  /** 用户登出 */
  Logout(request: LogoutRequest): Promise<Empty>;
  /** 注册用户 */
  RegisterUser(request: RegisterUserRequest): Promise<RegisterUserResponse>;
  /** 刷新认证令牌 */
  RefreshToken(request: LoginRequest): Promise<LoginResponse>;
  /** 验证令牌 */
  ValidateToken(request: ValidateTokenRequest): Promise<ValidateTokenResponse>;
  /** 获取当前用户身份信息 */
  WhoAmI(request: Empty): Promise<WhoAmIResponse>;
}
